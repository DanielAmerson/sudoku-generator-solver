from pytest import fixture

from board import Board


@fixture
def complete_valid_board():
    matrix = [
        [1, 2, 3, 4, 5, 6, 7, 8, 9],
        [4, 5, 6, 7, 8, 9, 1, 2, 3],
        [7, 8, 9, 1, 2, 3, 4, 5, 6],
        [2, 3, 4, 5, 6, 7, 8, 9, 1],
        [5, 6, 7, 8, 9, 1, 2, 3, 4],
        [8, 9, 1, 2, 3, 4, 5, 6, 7],
        [3, 4, 5, 6, 7, 8, 9, 1, 2],
        [6, 7, 8, 9, 1, 2, 3, 4, 5],
        [9, 1, 2, 3, 4, 5, 6, 7, 8],
    ]

    return Board(matrix)


@fixture
def incomplete_valid_board():
    matrix = [
        [1, 2, 3, 4, 5, 6, 7, 8, 9],
        [4, 5, 6, 7, 8, 9, 1, 2, 3],
        [7, 8, 9, 1, 2, 3, 4, 5, 6],
        [2, 3, 4, 5, 6, 7, 8, 9, 1],
        [5, 6, 7, 8, 0, 1, 2, 3, 4],
        [8, 9, 1, 2, 3, 4, 5, 6, 7],
        [3, 4, 5, 6, 7, 8, 9, 1, 2],
        [6, 7, 8, 9, 1, 2, 3, 4, 5],
        [9, 1, 2, 3, 4, 5, 6, 7, 8],
    ]

    return Board(matrix)


@fixture
def complete_invalid_board():
    matrix = [
        [1, 2, 3, 4, 5, 6, 7, 8, 9],
        [4, 5, 6, 7, 8, 9, 1, 2, 3],
        [7, 8, 9, 1, 2, 3, 4, 5, 6],
        [2, 3, 4, 5, 6, 7, 8, 9, 1],
        [5, 6, 7, 8, 1, 1, 2, 3, 4],
        [8, 9, 1, 2, 3, 4, 5, 6, 7],
        [3, 4, 5, 6, 7, 8, 9, 1, 2],
        [6, 7, 8, 9, 1, 2, 3, 4, 5],
        [9, 1, 2, 3, 4, 5, 6, 7, 8],
    ]

    return Board(matrix)


@fixture
def incomplete_invalid_board():
    matrix = [
        [1, 2, 3, 4, 5, 6, 7, 8, 9],
        [4, 5, 6, 7, 8, 9, 1, 2, 3],
        [7, 8, 9, 1, 2, 3, 4, 5, 6],
        [2, 3, 4, 5, 6, 7, 8, 9, 1],
        [5, 6, 7, 8, 1, 1, 2, 3, 4],
        [8, 9, 1, 2, 3, 4, 5, 6, 7],
        [3, 0, 5, 6, 7, 8, 9, 1, 2],
        [6, 7, 8, 9, 1, 2, 3, 4, 5],
        [9, 1, 2, 3, 4, 5, 6, 7, 8],
    ]

    return Board(matrix)


def test_complete_and_valid_board_is_valid(complete_valid_board):
    assert complete_valid_board.is_valid()


def test_incomplete_but_valid_board_is_valid(incomplete_valid_board):
    assert incomplete_valid_board.is_valid()


def test_complete_but_invalid_board_is_not_valid(complete_invalid_board):
    assert not complete_invalid_board.is_valid()


def test_incomplete_and_invalid_board_is_not_valid(incomplete_invalid_board):
    assert not incomplete_invalid_board.is_valid()


def test_complete_and_valid_board_is_solved(complete_valid_board):
    assert complete_valid_board.is_solved()


def test_incomplete_but_valid_board_is_not_solved(incomplete_valid_board):
    assert not incomplete_valid_board.is_solved()


def test_complete_but_invalid_board_is_not_solved(complete_invalid_board):
    assert not complete_invalid_board.is_solved()


def test_incomplete_and_invalid_board_is_not_solved(incomplete_invalid_board):
    assert not incomplete_invalid_board.is_solved()
